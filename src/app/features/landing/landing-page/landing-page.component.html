<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #sidenav
               [mode]="(layoutService.isMobile$ | async) ? 'over' : 'side'"
               [opened]="(layoutService.isDesktop$ | async) && false"
               fixedInViewport="true"
               class="app-sidenav">
    <mat-toolbar class="sidenav-toolbar">
      <span>Menu</span>
      <span class="spacer"></span>
      <button mat-icon-button (click)="sidenav.close()" *ngIf="(layoutService.isMobile$ | async)">
        <mat-icon>close</mat-icon> <!-- Using Material Icon 'close' -->
      </button>
    </mat-toolbar>
    <mat-nav-list>
      <a mat-list-item (click)="scrollToSection('home'); sidenav.close()">Home</a>
      <a mat-list-item (click)="scrollToSection('features'); sidenav.close()">Features</a>
      <a mat-list-item (click)="scrollToSection('developers'); sidenav.close()">Developers</a>
      <a mat-list-item (click)="scrollToSection('pricing'); sidenav.close()">Pricing</a>
      <a mat-list-item (click)="scrollToSection('about'); sidenav.close()">About</a>
      <mat-divider></mat-divider>
      <a mat-list-item (click)="navigateToLogin(); sidenav.close()">Login</a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar
      class="app-toolbar"
      [class.toolbar-hidden]="!isVisible"
      [ngClass]="{'dark-mode-toolbar': isDarkMode}">

      <div class="toolbar-section left-section">
        <button mat-icon-button
                *ngIf="(layoutService.isMobile$ | async)"
                (click)="sidenav.toggle()"
                aria-label="Toggle Menu"
                class="menu-button">
          <mat-icon svgIcon="menu"></mat-icon>
        </button>
        <button mat-icon-button class="company-logo-button" (click)="scrollToSection('home')" aria-label="Company Logo">
          <mat-icon svgIcon="company-logo" class="company-logo-icon"></mat-icon>
        </button>
      </div>

      <div class="toolbar-section middle-section" *ngIf="layoutService.isDesktop$ | async">
        <button mat-button (click)="scrollToSection('home')">Home</button>
        <button mat-button (click)="scrollToSection('features')">Features</button>
        <button mat-button (click)="scrollToSection('developers')">Developers</button>
        <button mat-button (click)="scrollToSection('pricing')">Pricing</button>
        <button mat-button (click)="scrollToSection('about')">About</button>
      </div>

      <span class="toolbar-spacer" *ngIf="!(layoutService.isDesktop$ | async)"></span>


      <div class="toolbar-section right-section">
        <button mat-icon-button (click)="toggleDarkMode()" class="theme-toggle-button" [attr.aria-label]="isDarkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode'">
          <mat-icon [svgIcon]="isDarkMode ? 'cloud' : 'sun'" class="theme-icon"></mat-icon>
        </button>

        <button mat-button class="login-button" (click)="navigateToLogin()" *ngIf="layoutService.isDesktop$ | async">Login</button>

        <button mat-flat-button class="get-started-button" (click)="scrollToSection('get-started')">
          <span>Get Started</span>
          <mat-icon svgIcon="arrow-forward" class="get-started-icon"></mat-icon>
        </button>
      </div>
    </mat-toolbar>

    <div class="landing-container" id="home">
      <h1>Welcome User!</h1>
      <!-- Placeholder for more content sections -->
      <section id="features" style="height: 500px; background: #f0f0f0; padding-top: var(--toolbar-height);"><h2>Features Section</h2></section>
      <section id="developers" style="height: 500px; background: #e0e0e0; padding-top: var(--toolbar-height);"><h2>Developers Section</h2></section>
      <section id="pricing" style="height: 500px; background: #d0d0d0; padding-top: var(--toolbar-height);"><h2>Pricing Section</h2></section>
      <section id="about" style="height: 500px; background: #c0c0c0; padding-top: var(--toolbar-height);"><h2>About Section</h2></section>
      <section id="get-started" style="height: 500px; background: #b0b0b0; padding-top: var(--toolbar-height);"><h2>Get Started Section</h2></section>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>