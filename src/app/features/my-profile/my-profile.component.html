<app-header [showNavigation]="false"></app-header>
<div class="profile-banner-top">
  <div class="profile-banner-inner">
    <div class="profile-banner-avatar">
      <img [src]="profile.avatar" alt="Profile" />
      <span class="profile-avatar-edit-btn"><img src="assets/icons/camera.svg" alt="Edit" /></span>
    </div>
    <div class="profile-banner-info">
      <div class="profile-banner-name">{{ profile.name }}</div>
      <div class="profile-banner-status">{{ profile.status }}</div>
    </div>
  </div>
</div>
<div class="profile-main-container">
  <div class="profile-sidebar">
    <div class="profile-sidebar-menu-box">
      <ul class="profile-sidebar-menu-list">
        <li *ngFor="let item of sidebarMenu; let i = index"
            [class.active]="item.active"
            [class.disabled]="item.disabled"
            (click)="onSidebarSelect(i)">
          {{ item.label }}
        </li>
      </ul>
    </div>
  </div>
  <div class="profile-content-col">
    <div class="profile-content-header">
      <span class="profile-content-title disabled">Edit Profile</span>
      <span class="profile-content-update">last update August 1</span>
      <span class="profile-content-share"><img src="assets/icons/share.svg" alt="Share" /></span>
    </div>
    <ng-container *ngIf="selectedSidebarIndex === 0">
      <form (ngSubmit)="onSave()" #profileFormRef="ngForm" class="profile-form-box">
        <div class="profile-form-sections-row">
          <div class="profile-form-section">
            <div class="profile-form-section-title">Personal</div>
            <div class="mb-3">
              <label class="form-label">First Name</label>
              <input type="text" [(ngModel)]="profileForm.firstName" name="firstName" class="form-control" />
            </div>
            <div class="mb-3">
              <label class="form-label">Surname</label>
              <input type="text" [(ngModel)]="profileForm.surname" name="surname" class="form-control" />
            </div>
            <div class="mb-3">
              <label class="form-label">National Code</label>
              <input type="text" [(ngModel)]="profileForm.nationalCode" name="nationalCode" class="form-control" placeholder="Enter Value" />
            </div>
            <div class="mb-3">
              <label class="form-label">Date of birth</label>
              <div class="input-group">
                <input type="date" [(ngModel)]="profileForm.dob" name="dob" class="form-control" />
              </div>
            </div>
            <div class="mb-3">
              <label class="form-label">Education level</label>
              <select [(ngModel)]="profileForm.educationLevel" name="educationLevel" class="form-select">
                <option *ngFor="let level of educationLevels" [value]="level.value">{{ level.label }}</option>
              </select>
            </div>
          </div>
          <div class="profile-form-section">
            <div class="profile-form-section-title">Contact</div>
            <div class="mb-3">
              <label class="form-label">Email</label>
              <input type="email" [(ngModel)]="profileForm.email" name="email" class="form-control" placeholder="Enter Value" />
            </div>
            <div class="mb-3">
              <label class="form-label">Phone Number</label>
              <div class="input-group phone-group">
                <select [(ngModel)]="profileForm.phoneCountry" name="phoneCountry" class="form-select">
                  <option value="+98">+98</option>
                  <option value="+1">+1</option>
                </select>
                <input type="tel" [(ngModel)]="profileForm.phoneNumber" name="phoneNumber" class="form-control" placeholder="9120000000" />
              </div>
            </div>
            <div class="mb-3">
              <label class="form-label">Country</label>
              <select [(ngModel)]="profileForm.country" name="country" class="form-select">
                <option *ngFor="let country of countries" [value]="country.value">{{ country.label }}</option>
              </select>
            </div>
            <div class="mb-3">
              <label class="form-label">City</label>
              <select [(ngModel)]="profileForm.city" name="city" class="form-select">
                <option *ngFor="let city of cities" [value]="city.value">{{ city.label }}</option>
              </select>
            </div>
          </div>
        </div>
        <div class="profile-form-save-row">
          <button type="submit" class="btn btn-primary profile-save-btn">Save</button>
        </div>
      </form>
    </ng-container>
    <ng-container *ngIf="selectedSidebarIndex === 1">
      <div class="dev-progress-message">
        <h2>Development in progress</h2>
        <p>This feature is under development. Please check back later.</p>
      </div>
    </ng-container>
    <ng-container *ngIf="selectedSidebarIndex === 2">
      <div class="dev-progress-message">
        <h2>In Progress</h2>
        <p>This feature is currently being built. Stay tuned!</p>
      </div>
    </ng-container>
    <ng-container *ngIf="selectedSidebarIndex === 3">
      <div class="dev-progress-message">
        <button class="btn btn-primary btn-lg w-100 mt-4 rounded-pill" (click)="goToResetPassword()">Change Password</button>
      </div>
    </ng-container>
  </div>
</div>
